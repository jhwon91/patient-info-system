# 환자 정보 관리 시스템

## 📌 실행 방법
### Git 저장소에서 프로젝트를 클론
> git clone https://github.com/jhwon91/patient-info-system.git

### Docker Compose로 컨테이너 빌드 및 실행
> docker-compose up -d

### 프로젝스트 실행

---
## 1. 프로젝트 문서
- ### [ERD 설계서](docs/erd.md)
- ### [API 정의서](docs/api.md)


## 2. 서버 환경
- ### Programming Language: Java 17
- ### Framework: Spring Boot 3.4
- ### ORM: Spring Data JPA
- ### DataBase: mysql:8.0

## 3. 문제해결 방법

### 📝 프로젝트 아키텍처 설계

- 문제
  - 계층형 아키텍처에서는 비즈니스 로직과 인프라 코드의 강한 결합으로 인해 도메인이 DB와 같은 하위 계층에 의존하게 되어 유지보수와 확장성이 저하된다. 이로 인해 도메인 중심의 설계가 약화된다.  
  

- 해결 방안
    - 계층형 아키텍처와 클린 아키텍처의 장점을 결합한 아키텍처 도입
    - 의존성 역전 원칙(DIP)과 명확한 계층 분리로 시스템 구조화
    - 코드 구조를 도메인, 애플리케이션, 인프라스트럭처, 프레젠테이션 계층으로 분리
    - 인터페이스와 의존성 주입(DI)을 활용해 계층 간 의존성 관리
    - 비즈니스 로직을 외부 프레임워크로부터 분리해 도메인 보호
  

- 효과
    - 시스템 유지보수성 향상
    - 새로운 기능 추가 용이
    - 특정 기술 종속성 감소로 기술 스택 변경 시 영향 최소화

### 📝 스프링 부트에서 이미지를 저장하는 방법
- 문제
  - 이미지를 업로드할 때, 해당 이미지 데이터가 Spring Boot 서버에 어떤 형태로 전달되는지 이해하고 처리하는 방법이 필요하다.
  

- 해결 방안
  - Spring Boot에서는 MultipartFile 클래스를 제공하여 HTML 폼을 통해 업로드된 파일을 자동으로 처리된다.
    - HTML 폼에서 업로드된 이미지 파일은 `multipart/form-data` 형식으로 서버에 전송된다.
    - Spring Boot는 이러한 요청을 자동으로 감지하여 파일 데이터를 MultipartFile 객체로 변환한다..

### 📝 동일 이름 이미지 저장 문제 
- 문제
  - 이미지 업로드 시 동일한 파일명을 가진 이미지가 특정 경로에 업로드되면 기존 파일을 덮어쓰게 되는 문제가 발생

- 해결 방안
  - UUID 활용 고유 파일명 생성

### 📝 이미지  resources/static에 저장시 문제
- 문제 
  - Spring Boot 애플리케이션에서 이미지를 `resources/static` 폴더에 저장할 경우 새로운 이미지가 추가될 때마다 애플리케이션을 다시 빌드해야 하는 문제 발생.


- 해결 방안
  - 이미지를 애플리케이션 외부의 전용 디렉토리에 저장하고, Spring Boot가 해당 디렉토리를 리소스 경로로 인식하도록 설정.
